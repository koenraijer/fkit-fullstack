import{s as E,f as h,a as y,e as T,g as m,C as b,c as C,i as d,z as v,d as f,x as G,j as _,M as P,l as w,h as W,m as S,y as N,n as q}from"../chunks/scheduler.e4fe527f.js";import{S as I,i as $}from"../chunks/index.bdfbb633.js";import{a as j,G as z,s as B,f as H,h as O}from"../chunks/firebase.bfe19b46.js";function L(p){let t,r="Sign in with Google",s,i;return{c(){t=h("button"),t.textContent=r,this.h()},l(l){t=m(l,"BUTTON",{class:!0,["data-svelte-h"]:!0}),b(t)!=="svelte-eubzr8"&&(t.textContent=r),this.h()},h(){_(t,"class","btn btn-primary")},m(l,n){d(l,t,n),s||(i=P(t,"click",p[1]),s=!0)},p:v,d(l){l&&f(t),s=!1,i()}}}function U(p){let t,r,s=p[0].displayName+"",i,l,n,o="You are logged in",e,a,g="Sign out",x,k;return{c(){t=h("h2"),r=w("Welcome, "),i=w(s),l=y(),n=h("p"),n.textContent=o,e=y(),a=h("button"),a.textContent=g,this.h()},l(c){t=m(c,"H2",{class:!0});var u=W(t);r=S(u,"Welcome, "),i=S(u,s),u.forEach(f),l=C(c),n=m(c,"P",{class:!0,["data-svelte-h"]:!0}),b(n)!=="svelte-1958qcl"&&(n.textContent=o),e=C(c),a=m(c,"BUTTON",{class:!0,["data-svelte-h"]:!0}),b(a)!=="svelte-11ll2qa"&&(a.textContent=g),this.h()},h(){_(t,"class","card-title"),_(n,"class","text-center text-success"),_(a,"class","btn btn-warning")},m(c,u){d(c,t,u),N(t,r),N(t,i),d(c,l,u),d(c,n,u),d(c,e,u),d(c,a,u),x||(k=P(a,"click",p[2]),x=!0)},p(c,u){u&1&&s!==(s=c[0].displayName+"")&&q(i,s)},d(c){c&&(f(t),f(l),f(n),f(e),f(a)),x=!1,k()}}}function A(p){let t,r="Login",s,i;function l(e,a){return e[0]?U:L}let n=l(p),o=n(p);return{c(){t=h("h2"),t.textContent=r,s=y(),o.c(),i=T()},l(e){t=m(e,"H2",{["data-svelte-h"]:!0}),b(t)!=="svelte-bhb3ah"&&(t.textContent=r),s=C(e),o.l(e),i=T()},m(e,a){d(e,t,a),d(e,s,a),o.m(e,a),d(e,i,a)},p(e,[a]){n===(n=l(e))&&o?o.p(e,a):(o.d(1),o=n(e),o&&(o.c(),o.m(i.parentNode,i)))},i:v,o:v,d(e){e&&(f(t),f(s),f(i)),o.d(e)}}}function D(p,t,r){let s;G(p,j,n=>r(0,s=n));async function i(){const n=new z,e=await(await B(O,n)).user.getIdToken();await fetch("/api/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:e})})}async function l(){await fetch("/api/signin",{method:"DELETE"}),await H(O)}return[s,i,l]}class Y extends I{constructor(t){super(),$(this,t,D,A,E,{})}}export{Y as component};
